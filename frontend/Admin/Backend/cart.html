<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Your Cart - ASAP</title> <!-- Updated Title -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Poppins:wght@400;700&display=swap" rel="stylesheet"/>
    <style>
        /* === PASTE ALL THE <style> content from User-Category.html HERE === */
        /* Core Styles */
        body { font-family: 'Poppins', sans-serif; background-image: url("img/bg.jpg"); background-attachment: fixed; background-repeat: no-repeat; background-size: cover; background-color: #fff; }
        .poppins { font-family: 'Poppins', sans-serif; color: #E46C1E; font-weight: bold; }
        .bold-text { font-weight: bold; }
        .hover-dark { transition: background 0.3s ease, color 0.3s ease; }
        .hover-dark:hover { background: #E46C1E; color: #fff; }
        .account { background: rgb(255, 209, 150); padding: 8px; border: 1px solid black; border-radius: 10px; box-shadow: 3px 3px 0px black; text-align: center; }
        .cart { background: rgb(255, 209, 150); border: 4px solid black; box-shadow: 5px 5px 0px black; }

        /* Category Page Specific Styles (Keep if needed for consistency) */
        .category-title { font-size: 1.8rem; font-weight: 700; color: #bf4f06; text-shadow: 2px 2px 0px rgba(0,0,0,0.1); }
        @media (min-width: 768px) { .category-title { font-size: 2.2rem; } }

        /* Cart Page Specific Styles */
        .cart-table-container {
            background-color: white; border: 4px solid black; border-radius: 10px;
            box-shadow: 5px 5px 0px black; overflow-x: auto; margin-bottom: 1.5rem;
        }
        .cart-table { width: 100%; border-collapse: collapse; }
        .cart-table thead { background-color: rgb(255, 209, 150); border-bottom: 3px solid black; }
        .cart-table th { padding: 10px 15px; text-align: left; font-weight: 700; font-size: 0.9rem; color: #8B4513; white-space: nowrap; }
        .cart-table tbody tr { border-bottom: 2px solid #f0e0c4; }
        .cart-table tbody tr:last-child { border-bottom: none; }
        .cart-table tbody tr:hover { background-color: #fff8ed; }
        .cart-table td { padding: 10px 15px; font-size: 0.95rem; color: #333; vertical-align: middle; }
        .cart-item-image { width: 60px; height: 60px; object-fit: contain; border-radius: 4px; border: 1px solid #ddd; margin-right: 10px; }
        .cart-item-name { font-weight: 600; display: block; margin-bottom: 2px; }
        .cart-item-unit { font-size: 0.8rem; color: #666; }
        .remove-item-btn { background: none; border: none; color: #dc3545; font-size: 1.2rem; cursor: pointer; padding: 5px; line-height: 1; }
        .remove-item-btn:hover { color: #a71d2a; }

        /* Quantity Input Styles (Same as category page) */
        .qty-button { background: #FFD196; color: #bf4f06; border: 2px solid black; box-shadow: 2px 2px 0px black; font-weight: bold; transition: all 0.2s ease; padding: 4px 8px; font-size: 0.8rem; border-radius: 6px; line-height: 1; }
        .qty-button:hover { background: #E46C1E; color: white; box-shadow: 1px 1px 0px black; transform: translate(1px, 1px); }
        .qty-input { width: 40px; text-align: center; border: none; border-top: 2px solid black; border-bottom: 2px solid black; font-weight: bold; font-size: 0.9rem; padding: 4px 0; appearance: textfield; -moz-appearance: textfield; }
        .qty-input::-webkit-outer-spin-button, .qty-input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .qty-controls-container { display: flex; align-items: center; border: 2px solid black; border-radius: 8px; overflow: hidden; box-shadow: 3px 3px 0px black; background: white;} /* Container for styling */

        /* Cart Summary Styles */
        .cart-summary {
             background: rgb(255, 209, 150); border: 4px solid black; border-radius: 10px;
             box-shadow: 5px 5px 0px black; padding: 1.5rem;
        }
        .summary-title { font-size: 1.2rem; font-weight: 700; color: #bf4f06; margin-bottom: 1rem; border-bottom: 2px solid black; padding-bottom: 0.5rem; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 0.75rem; font-size: 0.95rem; }
        .summary-total { font-weight: bold; font-size: 1.1rem; border-top: 2px solid black; padding-top: 0.75rem; margin-top: 0.5rem;}
        .checkout-button {
            display: block; width: 100%; text-align: center; background: #E46C1E; color: white;
            padding: 0.75rem 1rem; border-radius: 10px; border: 2px solid black;
            box-shadow: 3px 3px 0px black; font-weight: bold; text-transform: uppercase;
            transition: all 0.2s ease; margin-top: 1rem;
        }
        .checkout-button:hover { background: #bf4f06; box-shadow: 1px 1px 0px black; transform: translate(2px, 2px); }

    </style>
</head>
<body class="bg-white">

    <!-- Header (Copy the exact header from User-Category.html) -->
    <header class="p-2 md:p-4 flex flex-wrap justify-between items-center gap-2 md:gap-4 sticky top-0 z-50 bg-[#FFD196]">
        <div class="flex items-center"> <a href="../../Login/dashboard1.html"> <img alt="ASAP Logo" class="h-10 md:h-auto w-auto md:w-[200px] mr-2 md:mr-4" src="../img/logo.png"/> </a> <div class="hidden sm:block ml-2 md:ml-10 text-red-600 text-sm"> <p class="text-sm md:text-lg font-bold" id="deliveryETA">ETA... <i class="fas fa-chevron-down"></i></p> <p class="text-xs md:text-sm truncate w-24 md:w-48" id="locationDisplay"> Fetching... </p> </div> </div> <div class="w-full md:w-auto flex-grow order-3 md:order-2 mx-auto max-w-lg"> <div class="relative w-full"> <input class="pl-10 pr-4 py-2 w-full h-[40px] md:h-[50px] rounded-[50px] border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm md:text-base" placeholder="Search ASAP" type="text"/> <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i> </div> </div> <div class="flex items-center gap-2 md:gap-4 order-2 md:order-3"> <a href="../../frontend/Profile/main-acc-pg.html" class="text-center cursor-pointer"> <div class="w-8 h-8 md:w-10 md:h-10 rounded-full mx-auto account flex items-center justify-center"> <img src="../icon/user.svg" class="h-3/4 w-3/4" alt="Account"> </div> <p class="text-xs md:text-sm text-red-600 font-bold">Account</p> </a> <div id="cartIconContainer" class="relative"> <a href="cart.html" id="cartLink" title="View Cart Page"> <button class="flex items-center justify-center gap-1 px-2 py-2 md:px-4 md:py-2 rounded-lg focus:outline-none cart h-[40px] md:h-[50px] w-12 sm:w-auto"> <i class="fas fa-shopping-cart text-sm md:text-base flex-shrink-0"></i> <p class="text-xs md:text-sm hidden sm:block whitespace-nowrap"><b>My Cart</b></p> </button> <span id="cartItemCount" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center" style="display: none;">0</span> </a> <div id="quickCartPopup" class="absolute right-0 top-full mt-2 w-72 md:w-80 bg-white border-2 border-black rounded-lg shadow-[5px_5px_0px_black] z-50 p-4" style="display: none;"> <h4 class="text-lg font-bold text-[#bf4f06] border-b pb-2 mb-3">Quick Cart</h4> <div id="quickCartItems" class="max-h-60 overflow-y-auto mb-3"> <p class="text-center text-gray-500 text-sm">Your cart is empty.</p> </div> <div class="border-t pt-3"> <div class="flex justify-between font-bold mb-3"> <span>Subtotal:</span> <span id="quickCartSubtotal">₹0.00</span> </div> <a href="cart.html" class="block w-full text-center bg-[#E46C1E] text-white py-2 px-4 rounded-lg border-2 border-black shadow-[3px_3px_0px_black] hover:bg-[#bf4f06] hover:shadow-[1px_1px_0px_black] hover:translate-x-[2px] hover:translate-y-[2px] transition-all text-sm font-bold"> View Cart & Checkout </a> </div> </div> </div> </div>
   </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4">

        <h1 class="category-title mb-6">Cart Summary</h1>

        <!-- Layout for Cart Items and Summary (Grid for larger screens) -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

            <!-- Cart Items Table (takes more space on large screens) -->
            <div class="lg:col-span-2 cart-table-container">
                <table class="cart-table">
                    <thead>
                        <tr>
                            <th colspan="2">Product</th> <!-- Span image and name -->
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Total</th>
                            <th>Remove</th>
                        </tr>
                    </thead>
                    <tbody id="cartTableBody">
                        <!-- Cart items will be loaded here by JavaScript -->
                        <!-- Placeholder for empty cart / loading -->
                        <tr>
                            <td colspan="6" class="text-center text-gray-500 py-6">Loading cart...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Cart Summary Box -->
            <div class="lg:col-span-1 cart-summary h-fit sticky top-20"> <!-- Sticky summary -->
                 <h2 class="summary-title">Order Summary</h2>
                 <div class="summary-row">
                     <span>Subtotal</span>
                     <span id="cartSubtotal">₹0.00</span>
                 </div>
                 <div class="summary-row">
                     <span>Delivery Fee</span>
                     <span id="deliveryFee">₹0.00</span> <!-- Placeholder -->
                 </div>
                  <div class="summary-row text-gray-500"> <!-- Optional discount row -->
                     <span>Discount</span>
                     <span id="cartDiscount">- ₹0.00</span>
                 </div>
                 <div class="summary-row summary-total">
                     <span>Total Amount</span>
                     <span id="cartTotal">₹0.00</span>
                 </div>
                 <button id="checkoutButton" class="checkout-button">
                     Proceed to Checkout
                 </button>
                 <button id="clearCartButton" class="mt-4 w-full text-center text-red-600 hover:text-red-800 text-sm underline">
                     Clear Cart
                 </button>
            </div>

        </div>
    </main>

    <!-- Footer (Copy from other pages) -->
    <footer class="mt-8 md:mt-12 p-4 bg-[#FFD196] text-[#bf4f06] text-center text-xs md:text-sm">
        ASAP Quick Commerce © 2025
    </footer>

    <!-- Scripts: cartUtils MUST be first -->
    <script src="../Backend/cartUtils.js"></script> <!-- Adjust path -->
    <script src="cartPage.js"></script>          <!-- Adjust path -->
    <!-- Include header script if it handles ETA/Location/Profile click separately -->
    <script src="../../Login/dashboard-header.js"></script> <!-- Adjust path -->

</body>
</html>